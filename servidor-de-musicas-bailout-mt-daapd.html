<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Servidor de músicas Bailout MT-Daapd - Journal of an Open Sourcee</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://omaciel.github.io/servidor-de-musicas-bailout-mt-daapd.html">

        <meta name="author" content="Og Maciel" />
        <meta name="keywords" content="rpath" />
        <meta name="description" content="No finalzinho do ano passado eu passei alguns dias trabalhando para configurar um servidor de músicas bem simples para usar em casa. Como eu estou sempre fazendo algo maluco no meu desktop/laptop que eventualmente sempre me leva a re-instalar o meu sistema operacional, eu estou constantemente movendo meus arquivos ..." />

        <meta property="og:site_name" content="Journal of an Open Sourcee" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Servidor de músicas Bailout MT-Daapd"/>
        <meta property="og:url" content="https://omaciel.github.io/servidor-de-musicas-bailout-mt-daapd.html"/>
        <meta property="og:description" content="No finalzinho do ano passado eu passei alguns dias trabalhando para configurar um servidor de músicas bem simples para usar em casa. Como eu estou sempre fazendo algo maluco no meu desktop/laptop que eventualmente sempre me leva a re-instalar o meu sistema operacional, eu estou constantemente movendo meus arquivos ..."/>
        <meta property="article:published_time" content="2009-01-02" />
            <meta property="article:section" content="Portuguese" />
            <meta property="article:tag" content="rpath" />
            <meta property="article:author" content="Og Maciel" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://omaciel.github.io/theme/css/bootstrap.united.min.css" type="text/css"/>
    <link href="https://omaciel.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://omaciel.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://omaciel.github.io/theme/css/style.css" type="text/css"/>
        <link href="https://omaciel.github.io/static/custom.css" rel="stylesheet">

        <link href="https://omaciel.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Journal of an Open Sourcee ATOM Feed"/>
        <link href="https://omaciel.github.io/feeds.rss" type="application/rss+xml" rel="alternate"
              title="Journal of an Open Sourcee RSS Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://omaciel.github.io/" class="navbar-brand">
Journal of an Open Sourcee            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="https://omaciel.github.io/category/english.html">English</a>
                        </li>
                        <li class="active">
                            <a href="https://omaciel.github.io/category/portuguese.html">Portuguese</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://omaciel.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://omaciel.github.io/servidor-de-musicas-bailout-mt-daapd.html"
                       rel="bookmark"
                       title="Permalink to Servidor de músicas Bailout MT-Daapd">
                        Servidor de músicas Bailout MT-Daapd
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2009-01-02T17:35:00-05:00"> Fri 02 January 2009</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="https://omaciel.github.io/tag/rpath.html">rpath</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>No finalzinho do ano passado eu passei alguns dias trabalhando para
configurar um servidor de músicas bem simples para usar em casa. Como eu
estou sempre fazendo algo maluco no meu desktop/laptop que eventualmente
sempre me leva a re-instalar o meu sistema operacional, eu estou
constantemente movendo meus arquivos de música entre computadores e
discos externos. Quando você tem uma coleção de tamanho considerado,
este exercício se torna um pé no saco. Foi por isso que tive a idéia de
criar um servidor de músicas usando o&nbsp; mt-daapd como minha ferramente
principal. O mt-daapd é tão fácil de usar que eu imediatamente comecei o
meu projeto.</p>
<p>O primeiro passo foi criar um novo produto (leia projeto) no site
<a class="reference external" href="http://www.rpath.org">rBuilder Online</a>. Depois de pensar por uns 2
minutos decidi chamá-lo <a class="reference external" href="http://bailout.rpath.org">Bailout</a>, algo
como que a fiança que se paga para sair da prisão, já que eu precisava
de algo para me liberar dos meus problemas de armazenamento e
compartilhamento de músicas.</p>
<p>O próximo passo foi então escolher quais componentes adicionar ao meu
produto. Como o rBuilder me permite começar com Just Enough Operating
System (ou JEOS, o que quer dizer que somente os componentes essenciais
para um sistema operacional serão usados), eu continuei configurando meu
produto, escolhendo o sistema operacional <strong>rPath Linux 2</strong> (minhas
outras opções eram <strong>Ubuntu Hardy</strong> e <strong>CentOS</strong>) e escolhendo a dedo
outros componentes que eu gostaria de disponibilizar em uma instalação
padrão. Acabei escolhendo os serviços smb, nfs e openssh para
conectividade, assim como o vim (caramba, se vou conectar por ssh neste
sistema para fazer qualquer configuração manual, então preciso do meu
editor de texto preferido). Tudo isso foi feito usando uma interface web
do rBuilder e até então tudo foi feito usando apenas o mouse e clicando
nas opções.</p>
<p>Agora sim chegou a hora da atração principal: o mt-daapd. Como este
componente não estava disponível no repositório padrão onde escolhi
todos os outros componentes, chegou a hora de tomar algumas decisões
importantes. O rBuilder permite o empacotamento de software pela
interface gráfica usando pacotes <strong>RPM</strong>, <strong>DEB</strong> ou tarballs binários,
mas optei por experimentar uma nova ferramente de empacotamento chamada
<strong>rbuild</strong> (não confundir com o rBuilder Online) para aqueles que como
eu, curtem usar a linha de comando e já conhecem um pouco mais sobre o
sistema de gerenciamento de pacotes <strong>conary</strong>, tecnologia desenvolvida
aqui onde trabalho e coração do rBuilder. Não vou entrar em detalhes
sobre como empacotei o mt-daapd usando o rbuild mas eu recomendo a
leitura dos
<a class="reference external" href="http://blogs.conary.com/index.php/mkj/2008/08/29/simplifying_assumptions">posts</a>
(todos em inglês) escritos pelo Michael Johnson para aprender mais sobre
esta ferramenta.</p>
<p>Passados mais alguns minutos e o meu produto estava com todos os
componentes prontos. Com mais alguns cliques na interface iniciei o
processo de criação de uma imagen de instalação no formato ISO e VMWare,
permitindo que qualquer pessoa possa experimentar o Bailout em um
sistema virtual ou instalá-lo de verdade. Eu poderia ter escolhido
outros formatos para distribuir o meu produto como imagens para o
<strong>Amazon EC2</strong>, <strong>Citrix</strong>, ou <strong>Xen</strong> mas eu ainda posso editar minhas
preferências e adicionar estas opções mais tarde.</p>
<p>Uma vez minhas 2 imagens estavam finalizadas, chegou a hora de
testá-las. Escolhi gravar um CD com a imagem ISO e instalei o Bailout em
um computador que estava coletando poeira no closet do meu quarto. O
instalador é baseado no anaconda, usado pela Red Hat e Fedora entre
outras distribuições, e super fácil de usar. Depois que o processo
(super rápido) de instalação acabou e de um rápido reboot, me deparei
com um terminal todo preto e com instruções para me conectar ao sistema
de gerenciamento do produto, apontando meu navegador de web para um
endereço local IP. E lá fui eu.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3087612648/"><img alt="Appliance Management" src="http://farm4.static.flickr.com/3227/3087612648_23a5164936.jpg" /></a></p>
<p>Caso você decida brincar com o Bailout você verá na seção de downloads
algumas instruções sobre qual o nome de usuário e senha padrão do
sistema de gerenciamento, mas para aqueles que se esqueceram de ler
isso, use <strong>admin</strong> e <strong>password</strong> para conectar. Não se preoculpe com a
senha super fácil de quebrar… você vai mudá-la no próximo passo.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086775491/"><img alt="Wizard: Setup a password" src="http://farm4.static.flickr.com/3218/3086775491_bb6ee9acd6.jpg" /></a></p>
<p>A primeira vez que você conecta no Bailout, você será requisitado a
mudar sua senha. Certifique-se que a nova senha é algo seguro já que com
ela você será capaz de administrar seu servidor de músicas.</p>
<p>O próximo (opcional) passo é configurar como você gostaria de ser
notificado sobre as atividades do seu servidor como também sobre
atualizações disponíveis para o seu sistema. Como eu gosto de receber
estes tipos de notificações, adicionei a informação necessária e
continuei com o wizard (dica: Caso você não queira completar este passo,
clique no botão <strong>save</strong>).</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3087612788/"><img alt="Wizard: Setup a password for root" src="http://farm4.static.flickr.com/3228/3087612788_1e44136a71.jpg" /></a></p>
<p>Finalmente, escolha uma senha segura para o usuário root do sistema.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086776079/"><img alt="Landing page" src="http://farm4.static.flickr.com/3050/3086776079_e03069c47b.jpg" /></a></p>
<p>E pronto! Seja bem-vindo ao seu servidor de músicas! O sistema de
administração web possui várias outras funções que te permite efetuar
tarefas como atualizar, fazer backups…</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086776183/"><img alt="Managing running services" src="http://farm4.static.flickr.com/3198/3086776183_1b03d6363d.jpg" /></a></p>
<p>… gerenciar serviços, configurar a rede…</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086776791/"><img alt="System Information" src="http://farm4.static.flickr.com/3033/3086776791_7100cd5479.jpg" /></a></p>
<p>… checar o status do sistema e até mesmo restaurar o sistema de volta a
um estado anterior.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3087613296/"><img alt="MT-Daapd service web page" src="http://farm4.static.flickr.com/3077/3087613296_2f78daff21.jpg" /></a></p>
<p>Agora podemos apontar o nosso navegador web para o mesmo endereço do
sistema de administração web, mudando a porta para 3689 e usando
<strong>admin</strong>/<strong>mt-daapd</strong> como credenciais para conectar no sistema de
gerenciamento web do mt-daapd. Você deve também ver um novo
compartilhamento de músicas aparecer no seu reprodutor de mídia favorito
(assumindo que o servidor Bailout e o sistema onde o reprodutor de
músicas estão na mesma rede).</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086941341/"><img alt="Banshee using a mt-daapd music share" src="http://farm4.static.flickr.com/3038/3086941341_6586e3754d.jpg" /></a></p>
<p>Por enquanto o servidor é configurado para usar o diretório /mnt/mp3
como armazenamento de mídia e não está configurado para varrer seu
conteúdo automaticamente, mas isso e outras opções podem ser modificadas
conectando por ssh no servidor e editando manualmente o arquivo
/etc/mt-daapd.conf. Uma versão mais recente (mas ainda em
desenvolvimento) do mt-daapd, batizado de FireFly, permite que todas
estas configurações sejam feitas pela interface web. Com certeza terei
este versão atualizado em breve para que fique ainda mais fácil
configurar o servidor de músicas. Obviamente, se você quer me dar uma
mão, é só entrar em contato comigo.</p>
<p>Então aproveite o começo de um novo ano e faça o download do servidor de
músicas <a class="reference external" href="http://bailout.rpath.org">Bailout</a> hoje!</p>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'journalofanopensourcee'; // required: replace example with your forum shortname

                    var disqus_identifier = 'servidor-de-musicas-bailout-mt-daapd';
                var disqus_url = 'https://omaciel.github.io/servidor-de-musicas-bailout-mt-daapd.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/omaciel"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
                <li class="list-group-item"><a href="https://twitter.com/OgMaciel"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/pub/og-maciel/7/425/257/"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
                <li class="list-group-item"><a href="https://www.goodreads.com/user/show/12048315-og-maciel"><i class="fa fa-goodreads-square fa-lg"></i> GoodReads</a></li>
                <li class="list-group-item"><a href="http://instagram.com/ogmaciel"><i class="fa fa-instagram-square fa-lg"></i> Instagram</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="https://omaciel.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                </ul>
            </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Og Maciel
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://omaciel.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://omaciel.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://omaciel.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'journalofanopensourcee'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>