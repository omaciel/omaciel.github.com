<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Bailout MT-Daapd Appliance - Journal of an Open Sourcee</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://omaciel.github.io/bailout-mt-daapd-appliance.html">

        <meta name="author" content="Og Maciel" />
        <meta name="keywords" content="rpath" />
        <meta name="description" content="For the past few days I’ve been working on setting up a minimalistic music server for home. As I am always doing some crazy things to my desktop/laptop that eventually leads me to re-install my operating system, I find myself constantly moving music files between computers and external ..." />

        <meta property="og:site_name" content="Journal of an Open Sourcee" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Bailout MT-Daapd Appliance"/>
        <meta property="og:url" content="https://omaciel.github.io/bailout-mt-daapd-appliance.html"/>
        <meta property="og:description" content="For the past few days I’ve been working on setting up a minimalistic music server for home. As I am always doing some crazy things to my desktop/laptop that eventually leads me to re-install my operating system, I find myself constantly moving music files between computers and external ..."/>
        <meta property="article:published_time" content="2008-12-06" />
            <meta property="article:section" content="English" />
            <meta property="article:tag" content="rpath" />
            <meta property="article:author" content="Og Maciel" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://omaciel.github.io/theme/css/bootstrap.united.min.css" type="text/css"/>
    <link href="https://omaciel.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://omaciel.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://omaciel.github.io/theme/css/style.css" type="text/css"/>
        <link href="https://omaciel.github.io/static/custom.css" rel="stylesheet">

        <link href="https://omaciel.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Journal of an Open Sourcee ATOM Feed"/>
        <link href="https://omaciel.github.io/feeds.rss" type="application/rss+xml" rel="alternate"
              title="Journal of an Open Sourcee RSS Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://omaciel.github.io/" class="navbar-brand">
Journal of an Open Sourcee            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="https://omaciel.github.io/category/english.html">English</a>
                        </li>
                        <li >
                            <a href="https://omaciel.github.io/category/portuguese.html">Portuguese</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://omaciel.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://omaciel.github.io/bailout-mt-daapd-appliance.html"
                       rel="bookmark"
                       title="Permalink to Bailout MT-Daapd Appliance">
                        Bailout MT-Daapd Appliance
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2008-12-06T21:38:00-05:00"> Sat 06 December 2008</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="https://omaciel.github.io/tag/rpath.html">rpath</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>For the past few days I’ve been working on setting up a minimalistic
music server for home. As I am always doing some crazy things to my
desktop/laptop that eventually leads me to re-install my operating
system, I find myself constantly moving music files between computers
and external media. When you have a decent sized music library, this
excercise starts to become a major pain. That’s how I came up with the
idea of creating a media server using mt-daapd as my tool of choice.
mt-daapd is so easy to use that I wasted no time and got started right
away.</p>
<p>The first step was to register a new product (think project) in
<a class="reference external" href="http://www.rpath.org">rBuilder Online</a>. After spending less than 2
minutes thinking up a name I decided to call it
<a class="reference external" href="http://bailout.rpath.org">Bailout</a>, as I needed something to bail me
out of my music sharing issues (though I’d like some of the bailout
money that our goverment is giving out these days).</p>
<p>The next step was to pick and choose what bits I wanted to add to my
appliance. since rBuilder allows you to start with Just Enough Operating
System (or JEOS for short) components, I proceeded to defining the
configuration of my product, choosing the rPath Linux 2 operating system
(other choices were Ubuntu Hardy and CentOS) and cherry picked some
other components I wanted to make available out of the box. They were
smb, nfs and openssh for some choices of connectivity, as well as vim
(hey, if I want to ssh into the box and do some manual tweaks I got to
have my favorite text editor). This is all done via the web interface in
rBuilder and up until now I basically clicked my way through.</p>
<p>Now it was time to add the main attraction of the show: mt-daapd. This
component was not available to me from the default software repository
and it was time for me to make some important decisions. rBuilder allows
you to package software via the web interface using RPMs, DEBs or binary
tarballs but I opted for trying out a brand new building tool called
rbuild (not to confuse with rBuilder) for those who like to tinker with
the command line and already know a bit about the conary package
management system. I will not go into details on how I packaged mt-daapd
using rbuild but I highly recommend the blog
<a class="reference external" href="http://blogs.conary.com/index.php/mkj/2008/08/29/simplifying_assumptions">posts</a>
written by Michael Johnson for more details about this powerful tool.</p>
<p>Fast forward a few more minutes and my appliance was all ready to go. A
few more clicks and I kicked off the build of an installable ISO and a
VMWare image for this first “batch”. I could have chosen other formats
of delivering my appliance, such as Amazon EC2, Citrix, or Xen but I
still have time to go back and edit my product definitions later.</p>
<p>Once my 2 images were available, it was time to smoke test it. I chose
to burn a CD using the installable ISO image and used it to install the
Bailout appliance to an older computer I have under my desk. The
installer is anaconda-based and it is pretty trivial to follow. After
the (very quick) installation process and a quick reboot I was face to
face with a blank terminal console and instructions to log on to the
appliance’s management system by pointing a browser to a local IP
address. and so I did.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3087612648/"><img alt="Appliance Management" src="http://farm4.static.flickr.com/3227/3087612648_23a5164936.jpg" /></a></p>
<p>If you decide to play with the Bailout appliance you’ll see in the
download section some instructions about the default credentials for the
web based management system, but for those who may have skipped reading
the text I put together, you should login using <strong>admin</strong> as your user
and <strong>password</strong> as your… err, password. Don’t worry, you’ll change this
in the very next step.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086775491/"><img alt="Wizard: Setup a password" src="http://farm4.static.flickr.com/3218/3086775491_bb6ee9acd6.jpg" /></a></p>
<p>The first time you login to the appliance, you’ll be prompted to set a
new password for the web management user’s account. Make sure you choose
something secure as this user is reponsible for the management and
maintenance of your appliance.</p>
<p>The next (optional) step is to set up how you’d like to be notified
about your appliance’s activities as well as about future updates. As I
want to be informed of updates for this appliance, I entered the
information necessary and proceeded with the wizard (hint: if you want
to skip this step, just click on the save button).</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3087612788/"><img alt="Wizard: Setup a password for root" src="http://farm4.static.flickr.com/3228/3087612788_1e44136a71.jpg" /></a></p>
<p>Finally, pick a secure password for the root account of your appliance.
Needless to say, this is a very important step in the setup of any
GNU/Linux system.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086776079/"><img alt="Landing page" src="http://farm4.static.flickr.com/3050/3086776079_e03069c47b.jpg" /></a></p>
<p>And that is it! Welcome to your your brand new appliance! The web based
management system has several options that will allow you to perform
many tasks on your appliance, such as updates, backups…</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086776183/"><img alt="Managing running services" src="http://farm4.static.flickr.com/3198/3086776183_1b03d6363d.jpg" /></a></p>
<p>… manage services, configure the network…</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086776791/"><img alt="System Information" src="http://farm4.static.flickr.com/3033/3086776791_7100cd5479.jpg" /></a></p>
<p>… check the overall status and restore your system to a previous stage.</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3087613296/"><img alt="MT-Daapd service web page" src="http://farm4.static.flickr.com/3077/3087613296_2f78daff21.jpg" /></a></p>
<p>Now you can point your browser to the same address of your web
management system, changing the port to 3689 and using
<strong>admin</strong>/<strong>mt-daapd</strong> as credentials to log in to the web management
page for mt-daap. You should also be able to see a new music share show
up in your media player of choice (assuming that the Bailout appliance
and the system where the media player is running are in the same
network).</p>
<p><a class="reference external" href="http://www.flickr.com/photos/ogmaciel/3086941341/"><img alt="Banshee using a mt-daapd music share" src="http://farm4.static.flickr.com/3038/3086941341_6586e3754d.jpg" /></a></p>
<p>Right now the appliance is configured to use /mnt/mp3 as its media
folder and is not configured to scan it automatically, but this and
other settings can be changed by connecting to the appliance (ssh) and
manually tweaking the /etc/mt-daapd.conf file. Since the web management
system has a rich documented API and allows for the creation of custom
plugins, I will most likely create a plugin that will allow you to do
this from the web in the days to come. I also want to play with
<a class="reference external" href="http://sourceforge.net/projects/ushare">ushare</a> and uPnp to share
more than just music files and also allow for sharing with other devices
such as a XBox or a Nokia N810 tablet, but only time will tell when I’ll
get to it. Obviously, if you want to lend a helping hand, just get in
touch with me.</p>
<p>So go out and download a copy of the
<a class="reference external" href="http://bailout.rpath.org">Bailout</a> appliance today! So far is has
proven to be very useful to me!</p>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'journalofanopensourcee'; // required: replace example with your forum shortname

                    var disqus_identifier = 'bailout-mt-daapd-appliance';
                var disqus_url = 'https://omaciel.github.io/bailout-mt-daapd-appliance.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/omaciel"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
                <li class="list-group-item"><a href="https://twitter.com/OgMaciel"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/pub/og-maciel/7/425/257/"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
                <li class="list-group-item"><a href="https://www.goodreads.com/user/show/12048315-og-maciel"><i class="fa fa-goodreads-square fa-lg"></i> GoodReads</a></li>
                <li class="list-group-item"><a href="http://instagram.com/ogmaciel"><i class="fa fa-instagram-square fa-lg"></i> Instagram</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="https://omaciel.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                </ul>
            </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Og Maciel
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://omaciel.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://omaciel.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://omaciel.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'journalofanopensourcee'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>